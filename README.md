# Генератор Docker-образов для StaticJinjaPlus

Порт для создания образов генератора [статичных сайтов](https://github.com/MrDave/StaticJinjaPlus/), с помощью которого можно создать Docker-образ с нужной версией ОС и самого StaticJinjaPlus. С документацией генератора можно ознакомиться в оригинальном репозитории.

## Определение аргументов для конфигурации образа

Для работы вам понадобится установленный Docker. Клонируйте репо, после чего определите нужные вам аргументы для запуска сборки.

### Базовый образ ОС

- Если вы хотите использовать ubuntu, укажите ее с соответствующей версией, например, `ubuntu:22.04`;
- Также вы можете использовать python-slim, например `python:3.11-slim`.

### Версия StaticJinjaPlus и хэш коммита

- По умолчанию задана версия 0.1.1; вы также можете указать версию 0.1.0.
- Укажите необходимый вам хэш коммита. Для 0.1.1 это `30d9424df1eddb73912b0e2ad5375fa2c876c8e30906bec91952dfb75dcf220b`, для 0.1.0 - `3555bcfd670e134e8360ad934cb5bad1bbe2a7dad24ba7cafa0a3bb8b23c6444`. Вы можете также скопировать любой другой хэш из репозитория.

## Запуск

Для запуска сборки используйте `build`, указав необходимые аргументы из выбранных выше. Аргумент -t задаёт тег образа, с помощью которого удобно его идентифицировать. Пример использования:

```shell
docker build \
  --build-arg BASE_IMAGE=ubuntu:22.04 \
  --build-arg VERSION=0.1.0 \
  --build-arg HASH=3555bcfd670e134e8360ad934cb5bad1bbe2a7dad24ba7cafa0a3bb8b23c6444 \
  -t sjp:0.1.0 .

```

Учтите, что для корректной работы вам понадобятся соответствующие шаблоны. Вы можете создать папку `templates` прямо в директории с Dockerfile, также отрендеренные шаблоны будут сохраняться не только внутри контейнера, но и в этой же директории. Для тестового запуска можете взять шаблоны из `templates_example` (они идентичны тем, что представлены в репо с оригинальным кодом).

Для запуска самого используется следующая команда:

```shell
docker run --rm \
  -v "$(pwd)/templates:/templates" \
  -v "$(pwd)/render:/render" \
  sjp:0.1.0
```

## Цели проекта

Код написан в учебных целях — это урок в курсе по Python и веб-разработке на сайте [Devman](https://dvmn.org).
